{"version":3,"sources":["../node_modules/jsx-render/lib/utils.js","../node_modules/jsx-render/lib/dom.js","core/layer.js","factory.js","figments/example.js","figments/index.js","index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Object","defineProperty","exports","value","isSVG","objectToStyleString","createFragmentFrom","element","patt","RegExp","SVGTags","some","tag","test","styles","keys","map","prop","concat","join","children","fragment","document","createDocumentFragment","processDOMNodes","child","HTMLElement","SVGElement","Comment","DocumentFragment","appendChild","textnode","createTextNode","Array","forEach","console","log","Layer","domNode","innerText","newName","span","querySelector","dispatchEvent","doubleClickEvent","input","focus","blur","Factory","figments","pollingRun","setInterval","buttonGroup","init","clearInterval","markup","display","figmentOptionTemplate","figmentsDropdown","getElementById","figmentsMenu","figmentsTrigger","addEventListener","toggleDropdown","bind","setupPlugins","name","action","option","style","triggerRect","getBoundingClientRect","classList","add","left","width","remove","length","key","index","plugin","setup","addOption","main","nodes","from","querySelectorAll","layers","layer","example","state","counter","factory","selectedLayers","getSelectedLayers","default","run","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;AAGAD,QAAQE,KAAR,GAAgBA,KAAhB;AACAF,QAAQG,mBAAR,GAA8BA,mBAA9B;AACAH,QAAQI,kBAAR,GAA6BA,kBAA7B;;AAEA,SAASF,KAAT,CAAeG,OAAf,EAAwB;AACtB,MAAIC,OAAO,IAAIC,MAAJ,CAAW,MAAMF,OAAN,GAAgB,GAA3B,EAAgC,GAAhC,CAAX;AACA,MAAIG,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,EAAuB,GAAvB,CAAd;AACA,SAAOA,QAAQC,IAAR,CAAa,UAAUC,GAAV,EAAe;AACjC,WAAOJ,KAAKK,IAAL,CAAUD,GAAV,CAAP;AACD,GAFM,CAAP;AAGD;;AAED,SAASP,mBAAT,CAA6BS,MAA7B,EAAqC;AACnC,SAAOd,OAAOe,IAAP,CAAYD,MAAZ,EAAoBE,GAApB,CAAwB,UAAUC,IAAV,EAAgB;AAC7C,WAAO,GAAGC,MAAH,CAAUD,IAAV,EAAgB,IAAhB,EAAsBC,MAAtB,CAA6BJ,OAAOG,IAAP,CAA7B,CAAP;AACD,GAFM,EAEJE,IAFI,CAEC,GAFD,CAAP;AAGD;;AAED,SAASb,kBAAT,CAA4Bc,QAA5B,EAAsC;AACpC;AACA,MAAIC,WAAWC,SAASC,sBAAT,EAAf;;AAEA,WAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,QAAIA,iBAAiBC,WAAjB,IAAgCD,iBAAiBE,UAAjD,IAA+DF,iBAAiBG,OAAhF,IAA2FH,iBAAiBI,gBAAhH,EAAkI;AAChIR,eAASS,WAAT,CAAqBL,KAArB;AACD,KAFD,MAEO,IAAI,OAAOA,KAAP,KAAiB,QAAjB,IAA6B,OAAOA,KAAP,KAAiB,QAAlD,EAA4D;AACjE,UAAIM,WAAWT,SAASU,cAAT,CAAwBP,KAAxB,CAAf;AACAJ,eAASS,WAAT,CAAqBC,QAArB;AACD,KAHM,MAGA,IAAIN,iBAAiBQ,KAArB,EAA4B;AACjCR,YAAMS,OAAN,CAAcV,eAAd;AACD,KAFM,MAEA,IAAIC,UAAU,KAAV,IAAmBA,UAAU,IAAjC,EAAuC,CAAC;AAC7C;AACD,KAFM,MAEA;AACL;AACA,yBAA0B;AACxBU,gBAAQC,GAAR,CAAYX,KAAZ,EAAmB,mBAAnB;AACD;AACF;AACF;;AAEDL,WAASc,OAAT,CAAiBV,eAAjB;AACA,SAAOH,QAAP;AACD;;AC/CD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;IC5FMgB;AACJ,iBAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKA,OAAL,GAAeA,OAAf;AACD;;;;wBAEU;AACT,aAAO,KAAKA,OAAL,CAAaC,SAApB;AACD;sBAEQC,SAAS;AAAA,UACRF,OADQ,GACI,IADJ,CACRA,OADQ;;;AAGhB,UAAMG,OAAOH,QAAQI,aAAR,CAAsB,mCAAtB,CAAb;AACAD,WAAKE,aAAL,CAAmBC,gBAAnB;;AAEA,UAAMC,QAAQP,QAAQI,aAAR,CAAsB,kCAAtB,CAAd;AACAG,YAAM1C,KAAN,GAAcqC,OAAd;AACAK,YAAMC,KAAN;AACAD,YAAME,IAAN;AACD;;;;;;kBAGYV;;;;;;;;;;ACtBf;;;;AACA;;;;;;;;IAEMW;AAEJ,mBAAYC,QAAZ,EAAsB;AAAA;;AACpB,SAAKA,QAAL,GAAgBA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","file":"figments.map","sourceRoot":"../src","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isSVG = isSVG;\nexports.objectToStyleString = objectToStyleString;\nexports.createFragmentFrom = createFragmentFrom;\n\nfunction isSVG(element) {\n  var patt = new RegExp('^' + element + '$', 'i');\n  var SVGTags = ['path', 'svg', 'use', 'g'];\n  return SVGTags.some(function (tag) {\n    return patt.test(tag);\n  });\n}\n\nfunction objectToStyleString(styles) {\n  return Object.keys(styles).map(function (prop) {\n    return \"\".concat(prop, \": \").concat(styles[prop]);\n  }).join(';');\n}\n\nfunction createFragmentFrom(children) {\n  // fragments will help later to append multiple children to the initial node\n  var fragment = document.createDocumentFragment();\n\n  function processDOMNodes(child) {\n    if (child instanceof HTMLElement || child instanceof SVGElement || child instanceof Comment || child instanceof DocumentFragment) {\n      fragment.appendChild(child);\n    } else if (typeof child === 'string' || typeof child === 'number') {\n      var textnode = document.createTextNode(child);\n      fragment.appendChild(textnode);\n    } else if (child instanceof Array) {\n      child.forEach(processDOMNodes);\n    } else if (child === false || child === null) {// expression evaluated as false e.g. {false && <Elem />}\n      // expression evaluated as false e.g. {null && <Elem />}\n    } else {\n      // later other things could not be HTMLElement nor strings\n      if (process.env.NODE_ENV) {\n        console.log(child, 'is not appendable');\n      }\n    }\n  }\n\n  children.forEach(processDOMNodes);\n  return fragment;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.portalCreator = exports.Fragment = exports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction dom(tag, attrs) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  // Custom Components will be functions\n  if (typeof tag === 'function') {\n    tag.defaultProps = tag.defaultProps || {};\n    var result = tag(Object.assign({}, tag.defaultProps, attrs, {\n      children: children\n    }));\n\n    switch (result) {\n      case 'FRAGMENT':\n        return (0, _utils.createFragmentFrom)(children);\n      // Portals are useful to render modals\n      // allow render on a different element than the parent of the chain\n      // and leave a comment instead\n\n      case 'PORTAL':\n        tag.target.appendChild((0, _utils.createFragmentFrom)(children));\n        return document.createComment(\"Portal Used\");\n\n      default:\n        return result;\n    }\n  } // regular html components will be strings to create the elements\n  // this is handled by the babel plugins\n\n\n  if (typeof tag === 'string') {\n    var element = (0, _utils.isSVG)(tag) ? document.createElementNS('http://www.w3.org/2000/svg', tag) : document.createElement(tag); // one or multiple will be evaluated to append as string or HTMLElement\n\n    var fragment = (0, _utils.createFragmentFrom)(children);\n    element.appendChild(fragment);\n\n    for (var prop in attrs) {\n      if (prop === 'style') {\n        element.style.cssText = (0, _utils.objectToStyleString)(attrs[prop]);\n      } else if (prop === 'ref' && typeof attrs.ref === 'function') {\n        attrs.ref(element, attrs);\n      } else if (prop === 'className') {\n        element.setAttribute('class', attrs[prop]);\n      } else if (prop === 'xlinkHref') {\n        element.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', attrs[prop]);\n      } else if (prop === 'dangerouslySetInnerHTML') {\n        element.innerHTML = attrs[prop].__html;\n      } else if (attrs.hasOwnProperty(prop)) {\n        element.setAttribute(prop, attrs[prop]);\n      }\n    }\n\n    return element;\n  }\n\n  console.error(\"jsx-render does not handle \".concat(_typeof(tag)));\n}\n\nvar _default = dom;\nexports.default = _default;\n\nvar Fragment = function Fragment() {\n  return 'FRAGMENT';\n};\n\nexports.Fragment = Fragment;\n\nvar portalCreator = function portalCreator(node) {\n  function Portal() {\n    return 'PORTAL';\n  }\n\n  Portal.target = document.body;\n\n  if (node && node.nodeType === Node.ELEMENT_NODE) {\n    Portal.target = node;\n  }\n\n  return Portal;\n};\n\nexports.portalCreator = portalCreator;","class Layer {\n  constructor(domNode) {\n    this.domNode = domNode;\n  }\n\n  get name() {\n    return this.domNode.innerText;\n  }\n\n  set name(newName) {\n    const { domNode } = this;\n\n    const span = domNode.querySelector('span[class*=\"object_row--rowText\"');\n    span.dispatchEvent(doubleClickEvent);\n\n    const input = domNode.querySelector('input[class*=\"object_row--input\"');\n    input.value = newName;\n    input.focus();\n    input.blur();\n  }\n}\n\nexport default Layer;","import dom from \"jsx-render\";\nimport Layer from './core/layer';\n\nclass Factory {\n\n  constructor(figments) {\n    this.figments = figments;\n  }\n\n  run() {\n    console.log(\"[🔌] Injecting Figments...\");\n\n    const pollingRun = setInterval(() => {\n      const buttonGroup = document.querySelector(\n        \".toolbar_view--buttonGroup--2wM3n\"\n      );\n      if (buttonGroup) {\n        this.init();\n        console.log(\"[🔌] ✅ Injected.\");\n        clearInterval(pollingRun);\n      }\n    }, 1000);\n  }\n\n  init() {\n    const buttonGroup = document.querySelector(\".toolbar_view--buttonGroup--2wM3n\");\n\n    const markup = <span className=\"toolbar_view--actionButtonContainer--J2txY\">\n        <span id=\"figments-trigger\" className=\"toolbar_view--iconButton--Zxsnv enabledButton-3\">\n          <img className=\"svg\" src=\"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0OTIuNjE2IDQ5Mi42MTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ5Mi42MTYgNDkyLjYxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiPgo8Zz4KCTxnPgoJCTxwYXRoIGQ9Ik00NjguMiwxMzUuNzQyYy0yMi43LTUwLjgtNjMuOS05MC45LTExNi0xMTMuMWMtODIuNy0zNS4yLTE3MC43LTI4LjQtMjQxLjYsMTguNUM0MS4zLDg2Ljk0MiwwLDE2My43NDIsMCwyNDYuNjQyICAgIGMwLDYyLjQsMjMuMywxMjEuOSw2NS43LDE2Ny41YzQyLjIsNDUuNCw5OS4zLDczLjEsMTYwLjksNzhjMC45LDAuMSwxLjgsMC4xLDIuNywwLjFjOC43LDAsMTcuMi0zLjMsMjMuNi05LjMgICAgYzcuMi02LjcsMTEuNC0xNi4xLDExLjQtMjZ2LTc1LjljMC0xLjEtMC4xLTIuMi0wLjMtMy4yYzAuMi0xLDAuMy0yLjEsMC4zLTMuMmMwLTkuOS04LjEtMTgtMTgtMThjLTQ1LjcsMC04Mi44LTM3LjEtODIuOC04Mi44ICAgIHYtNTQuNmgxNjUuNnY1NC42YzAsMjMtOS43LDQ1LjEtMjYuNSw2MC43Yy03LjMsNi44LTcuNywxOC4xLTEsMjUuNGM2LjgsNy4zLDE4LjEsNy43LDI1LjQsMWMyNC4yLTIyLjQsMzgtNTQuMiwzOC04Ny4xdi03Mi42ICAgIGMwLTkuOS04LjEtMTgtMTgtMThoLTM5LjJ2LTU5YzAtOS45LTguMS0xOC0xOC0xOGMtOS45LDAtMTgsOC4xLTE4LDE4djU5aC01MS4ydi01OWMwLTkuOS04LjEtMTgtMTgtMThjLTkuOSwwLTE4LDguMS0xOCwxOHY1OSAgICBoLTM5LjJjLTkuOSwwLTE4LDguMS0xOCwxOHY3Mi42YzAuMSw1OS41LDQzLjksMTA4LjgsMTAwLjksMTE3LjV2NjQuOWMtMTA3LjktOS4xLTE5Mi4zLTEwMS0xOTIuMy0yMDkuNSAgICBjMC03MC44LDM1LjMtMTM2LjQsOTQuNS0xNzUuNWM2MC42LTQwLjEsMTM2LjMtNDUuNywyMDcuNi0xNS40YzQzLjcsMTguNSw3OC4yLDUyLjIsOTcuMiw5NC43YzQwLjYsOTAuOSwyMS40LDE5MC4zLTQ5LDI1My4xICAgIGMtNy40LDYuNi04LjEsMTgtMS40LDI1LjRjNi42LDcuNCwxOCw4LjEsMjUuNCwxLjRjMzguNy0zNC42LDY1LjEtNzkuNCw3Ni40LTEyOS44QzQ5OC43LDI0Ni44NDIsNDkyLjQsMTg5Ljg0Miw0NjguMiwxMzUuNzQyeiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=\" />\n        </span>\n        <div id=\"figments-dropdown\" class=\"pointing_dropdown--root--28JAG\" style={{display: \"none\"}}>\n          <div class=\"pointing_dropdown--arrow--Lu8iU\" />\n          <div id=\"figments-menu\" class=\"dropdown--dropdown--35dH4 pointing_dropdown--content--2os_K\">\n            \n          </div>\n        </div>\n      </span>;\n\n    this.figmentOptionTemplate = (\n      <a class=\"dropdown--option--20q-- dropdown--optionBase--2PiCW white_text--whiteText--1kui1\" rel=\"noopener\">\n          <span>action</span>\n      </a>\n    );\n\n    buttonGroup.appendChild(markup);\n\n    this.figmentsDropdown = document.getElementById(\"figments-dropdown\");\n    this.figmentsMenu = document.getElementById(\"figments-menu\");\n    this.figmentsTrigger = document.getElementById(\"figments-trigger\");\n\n    this.figmentsTrigger.addEventListener(\"click\", this.toggleDropdown.bind(this));\n\n    this.setupPlugins();\n  }\n\n  addOption (name, action) {\n    const option = this.figmentsMenu.appendChild(this.figmentOptionTemplate);\n    option.innerText = name;\n    option.addEventListener(\"click\", action);\n    option.addEventListener(\"click\", this.toggleDropdown.bind(this));\n  }\n\n  toggleDropdown () {    \n    if(this.figmentsDropdown.style.display === \"none\") {\n      console.log(\"[🔌] Show menu\");    \n\n      const triggerRect = this.figmentsTrigger.getBoundingClientRect();\n      this.figmentsTrigger.classList.add(\"activeButton-3\");\n\n      this.figmentsDropdown.style.display = \"block\";\n      this.figmentsDropdown.style.left = (triggerRect.left + (triggerRect.width / 2) - 6) + \"px\";\n    }\n    else {\n      console.log(\"[🔌] Hide menu\");    \n\n      this.figmentsDropdown.style.display = \"none\";\n      this.figmentsTrigger.classList.remove(\"activeButton-3\");\n    }\n    \n  }\n\n  setupPlugins() {\n    const figments = this.figments;\n    const keys = Object.keys(figments);\n\n    if (keys.length === 1 && keys[0] === \"default\") {\n      console.log(\"[🔌] No figments found.\");\n    } else {\n      keys.map((key, index) => {\n        const plugin = figments[key];\n\n        plugin.setup(this);\n        console.log(`[🔌] Plugin added: ${plugin.name}`);\n\n        this.addOption(plugin.name, plugin.main.bind(plugin));\n\n        if (index === keys.length - 1) {\n          console.log(\"[🔌] All set!\");\n        }\n      });\n    }\n  }\n\n  getSelectedLayers() {\n    const nodes = Array.from(document.querySelectorAll('div[class*=\"object_row--selected\"]'));\n    const layers = nodes.map(layer => new Layer(layer));\n    return layers;\n  }\n  \n}\n\nexport default Factory;","const example = {\n  name: \"Example\",\n  state: {\n    counter: 0\n  },\n  setup(factory) {\n    this.factory = factory;\n  },\n  main() {\n    const selectedLayers = this.factory.getSelectedLayers();\n    console.log(\"Selected layers\", selectedLayers.length);\n  }\n}\n\nexport default example;","export { default as example } from './example';","import Factory from './factory';\nimport * as figments from \"./figments\";\nimport './assets/figments.css';\n\nconst factory = new Factory(figments);\n\nfactory.run();","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}